---
title: "Geocomputation with R Introduction"
author: "Xiaochi"
date: "12/09/2019"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
```

spatial skills:

* reading, writing and manipulating geographic data
* making static and interactive maps
* applying geocomputation to solve real-world problems
* modeling geographic phenomena

Reproducibility is a major advantage of command-line interfaces, but what does it mean in practice? We define it as follows: “A process in which the same results can be generated by others using publicly accessible code.”

This may sound simple and easy to achieve (which it is if you carefully maintain your R code in script files), but has profound implications for teaching and the scientific process

What is geocomputation

Geocomputation

* creative and experimental applicaitons
* the development of new tools and methods

GeoComputation is about using the various different types of geodata and about developing relevant geo-tools within the overall context of a ‘scientific’ approach. 

Geocomputation: working with geographic data in a computational way, focusing on code, reproducibility and modularity.

* Geographic Information Science (GIScience)
* Geomatics
* Geoinformatics
* Spatial Information Science
* Geoinformation Engineering
* Geographic Data Science (GDS)

they all seek to use geographic data for applied scientific work

R’s greatest strengths: its console-based ability to seamlessly switch between geographic and non-geographic data processing, modeling and visualization tasks.

```{r}
library(leaflet)
popup = c("Robin", "Jakub", "Jannes")
leaflet() %>% 
  addProviderTiles("NASAGIBS.ViirsEarthAtNight2012") %>% 
  addMarkers(
    lng = c(-3, 23, 11),
    lat = c(52, 53, 49),
    popup = popup)

```
# Geographic data in R

```{r}
library(sf)
library(raster)
library(spData)
library(spDataLarge)
```

The vector data model represents the world using points, lines and polygons.

The raster data model divides the surface up into cells of constant size.

Which to use?

* Vector data tends to dominate the social sciences because human settlements tend to have discrete borders.

* Raster often dominates in environmental sciences because of the reliance on remote sensing data.

## Vector data

* geographic CRS with an origin at 
  * 0 degree longitude (the Prime Meridian)
  * 0 degree latitude (eht Equator)
  
* projected CRS

sf is a package providing a class system for geographic vector data.

### simple features

Simple Features is a hierarchical data model that represents a wide range of geometry types.

world is a spatial object containing spatial and attribute columns
```{r}
world
```

```{r}
world$geom[1]
```

The contents of this geom column give sf objects their spatial powers: world$geom is a ‘list column’ that contains all the coordinates of the country polygons.

```{r}
plot(world, max.plot = 10)
```

Note that instead of creating a single map, as most GIS programs would, the plot() command has created multiple maps, one for each variable in the world datasets. This behavior can be useful for exploring the spatial distribution of different variables.

Being able to treat spatial objects as regular data frames with spatial powers has many advantages, especially if you are already used to working with data frames.

```{r}
summary(world["lifeExp"])
```

Although we have only selected one variable for the summary command, it also outputs a report on the geometry.

```{r}
world_mini = world[1:2, 1:3]
world_mini
```

# Why simple features